.main-navigation {
    display: flex;
    width: 100%;
    position: relative;

    @include media-down-md {
        flex-direction: column;
    }

    .menu-main-nav-container {
        // padding: 14px 0 10px;

        @include media-down-md {
            width: 100%;
            // margin-bottom: 20px;
        }
    }

    .menu {
        @include media-down-md {
            display: flex;
            flex-direction: column;
        }

        >li {
            >a {
                position: relative;
                padding: 25px 0;

                @include media-down-md {
                    padding: 10px 0;
                }

                @include underline(2px)
            }

            >a:hover,
            .current-menu-item>a {
                @include active-underline(2px);

                @include media-down-md {
                    @include underline(0);
                }
            }
        }
    }

    ul {
        @include reset-ul;
        display: none;
        gap: 32px;

        @include media-down-md {
            gap: 0;
        }

        &.links {
            margin-left: auto;


            @include media-down-md {
                margin-left: 0;
                padding-top: 16px;
                padding-bottom: 16px;
                border-top: 1px solid $color__border;
                border-bottom: 1px solid $color__border;
                display: flex;
                flex-direction: column;
                gap: 16px;
                margin-bottom: 20px;
            }

            a {
                display: inline-flex;
                align-items: center;
                gap: 13px;
                padding: 25px 0;

                @include media-down-md {
                    padding: 0;
                }

                img {
                    display: block;
                }
            }
        }

        ul {
            // box-shadow: 0 3px 3px rgba(0, 0, 0, 0.2);
            // float: left;
            // position: absolute;
            // top: 100%;
            // left: -999em;
            // z-index: 99999;

            ul {
                // left: -999em;
                // top: 0;
            }

            li {
                @include reset-li;

                &:hover>ul,
                &.focus>ul {
                    display: block;
                    left: auto;
                }
            }

            a {
                width: 200px;
            }

            // :hover>a,
            // .focus>a {}

            // a:hover,
            // a.focus {}
        }

        li:hover>ul,
        li.focus>ul {
            left: auto;
        }

    }

    li {
        @include reset-li;

        &:hover {
            >a {
                color: $accent;

                @include media-down-md {
                    color: #000;
                }

            }

            &.menu-item-has-children {
                >a {

                    &:after {
                        content: url("data:image/svg+xml,%3Csvg width='10' height='6' viewBox='0 0 10 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M9.70711 0.292893C10.0976 0.683418 10.0976 1.31658 9.70711 1.70711L5.70711 5.70711C5.31658 6.09763 4.68342 6.09763 4.29289 5.70711L0.292893 1.70711C-0.0976315 1.31658 -0.0976315 0.683417 0.292893 0.292893C0.683417 -0.0976315 1.31658 -0.0976315 1.70711 0.292893L5 3.58579L8.29289 0.292893C8.68342 -0.0976312 9.31658 -0.0976311 9.70711 0.292893Z' fill='%23FF6000'/%3E%3C/svg%3E%0A");

                        @include media-down-md {
                            content: url("data:image/svg+xml,%3Csvg width='10' height='6' viewBox='0 0 10 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M9.70711 0.292893C10.0976 0.683418 10.0976 1.31658 9.70711 1.70711L5.70711 5.70711C5.31658 6.09763 4.68342 6.09763 4.29289 5.70711L0.292893 1.70711C-0.0976315 1.31658 -0.0976315 0.683417 0.292893 0.292893C0.683417 -0.0976315 1.31658 -0.0976315 1.70711 0.292893L5 3.58579L8.29289 0.292893C8.68342 -0.0976312 9.31658 -0.0976311 9.70711 0.292893Z' fill='%23444444'/%3E%3C/svg%3E%0A");

                        }
                    }
                }
            }
        }

        &:not(.walker) {
            // position: relative;
        }

        &.menu-item-has-children {
            >a {
                display: inline-flex;
                align-items: center;

                @include media-down-md {
                    width: 100%
                }

                &:after {
                    margin-left: 8px;
                    line-height: 1;
                    content: url("data:image/svg+xml,%3Csvg width='10' height='6' viewBox='0 0 10 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M9.70711 0.292893C10.0976 0.683418 10.0976 1.31658 9.70711 1.70711L5.70711 5.70711C5.31658 6.09763 4.68342 6.09763 4.29289 5.70711L0.292893 1.70711C-0.0976315 1.31658 -0.0976315 0.683417 0.292893 0.292893C0.683417 -0.0976315 1.31658 -0.0976315 1.70711 0.292893L5 3.58579L8.29289 0.292893C8.68342 -0.0976312 9.31658 -0.0976311 9.70711 0.292893Z' fill='%23444444'/%3E%3C/svg%3E%0A");

                    @include media-down-md {
                        position: absolute;
                        right: 8px;
                        transform: rotate(-90deg);
                    }
                }
            }
        }

        .sub-menu {
            @include reset-ul;

            position: absolute;
            top: 99%;
            right: 0;
            left: 0;
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            width: 100%;
            padding: 24px 25px;
            border-top: 1px solid $color__border;
            border-radius: 0px 0px 16px 16px;
            background: #FFFFFF;
            box-shadow: inset 0px 6px 32px rgba(0, 0, 0, 0.08);
            opacity: 0;
            pointer-events: none;
            transition: opacity .1s ease-out;
            z-index: 9999;

            @include media-down-md {
                position: fixed;
                display: block;
                left: 0;
                right: 0;
                top: 0;
                bottom: 0;
                transform: translateX(100%);
                padding-top: 0;
                padding-right: 40px;
                padding-left: 40px;
                box-shadow: none;
                overflow: auto;
                max-height: 100vh;
                transition: 0.3s ease;

                @include media-down-sm {
                    padding-right: 25px;
                    padding-left: 25px;
                }

                &.active {
                    transform: translateX(0%);
                }
            }

            &:hover,
            &:focus {
                opacity: 1;
                pointer-events: all;
            }

            &__items-wrapper {
                display: flex;
                flex-wrap: wrap;
                gap: 16px;
            }

            li {
                @include reset-li;

                width: calc((100% - 12px) / 4);
                // flex: 25%;
                // max-width: calc(25% - 12px);

                @include media-down-md {
                    width: calc(50% - 16px);
                    flex: 1 0 calc(50% - 16px);
                    max-width: calc(50% - 16px);

                    +li {
                        padding-left: 3px;
                        padding-right: 3px;
                    }
                }

                @include media-down-sm {
                    width: 100%;
                    max-width: 100%;
                    flex: 100%;

                    +li {
                        margin-top: 8px;
                    }

                }

                &.nav-back {
                    display: flex;
                    width: 100%;
                    max-width: 100%;
                    flex: 100%;
                    justify-content: space-between;
                    align-items: center;
                    padding: 30px 0;
                    margin-left: -25px;
                    margin-right: -25px;
                    width: auto;
                    max-width: none;
                    padding-left: 25px;
                    padding-right: 25px;
                    border-bottom: 1px solid $color__border;
                    margin-bottom: 16px;
                    position: sticky;
                    top: 0;
                    z-index: 1;
                    background: #fff;

                    @include media-down-md {
                        padding-right: 40px;
                        padding-left: 40px;
                    }

                    @include media-down-sm {
                        padding: 21px 25px;
                    }

                    .back-btn {
                        font-style: normal;
                        font-weight: 600;
                        font-size: 14px;
                        line-height: 160%;
                        color: #000000;
                        letter-spacing: 0.05em;
                        text-transform: uppercase;
                        display: inline-flex;
                        align-items: center;
                        justify-content: center;

                        &:before {
                            margin-right: 8px;
                            content: url("data:image/svg+xml,%3Csvg width='6' height='10' viewBox='0 0 6 10' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M5.70711 0.292893C5.31658 -0.0976311 4.68342 -0.0976311 4.29289 0.292893L0.292893 4.29289C-0.097631 4.68342 -0.097631 5.31658 0.292893 5.70711L4.29289 9.70711C4.68342 10.0976 5.31658 10.0976 5.70711 9.70711C6.09763 9.31658 6.09763 8.68342 5.70711 8.29289L2.41421 5L5.70711 1.70711C6.09763 1.31658 6.09763 0.683417 5.70711 0.292893Z' fill='%23444444'/%3E%3C/svg%3E%0A");
                        }
                    }

                    .toggle-nav {
                        content: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.1211 11.9998L18.0001 8.11682C18.2519 7.83058 18.3853 7.45918 18.3732 7.07811C18.361 6.69705 18.2042 6.33491 17.9346 6.06532C17.665 5.79573 17.3029 5.63891 16.9218 5.62674C16.5407 5.61458 16.1693 5.74797 15.8831 5.99982L12.0001 9.87882L8.11008 5.98782C7.97074 5.84849 7.80533 5.73796 7.62329 5.66256C7.44124 5.58715 7.24612 5.54834 7.04908 5.54834C6.85203 5.54834 6.65691 5.58715 6.47487 5.66256C6.29282 5.73796 6.12741 5.84849 5.98808 5.98782C5.84874 6.12715 5.73822 6.29256 5.66281 6.47461C5.58741 6.65666 5.5486 6.85177 5.5486 7.04882C5.5486 7.24587 5.58741 7.44098 5.66281 7.62303C5.73822 7.80508 5.84874 7.97049 5.98808 8.10982L9.87908 11.9998L6.00008 15.8818C5.84795 16.0178 5.72517 16.1834 5.63924 16.3685C5.55331 16.5536 5.50605 16.7542 5.50034 16.9582C5.49463 17.1621 5.5306 17.3651 5.60604 17.5547C5.68148 17.7443 5.79481 17.9165 5.9391 18.0608C6.08338 18.2051 6.25558 18.3184 6.44517 18.3939C6.63476 18.4693 6.83775 18.5053 7.04172 18.4996C7.24569 18.4938 7.44635 18.4466 7.63142 18.3607C7.81649 18.2747 7.98209 18.1519 8.11808 17.9998L12.0001 14.1208L15.8781 17.9998C16.1595 18.2812 16.5411 18.4393 16.9391 18.4393C17.337 18.4393 17.7187 18.2812 18.0001 17.9998C18.2815 17.7184 18.4396 17.3368 18.4396 16.9388C18.4396 16.5409 18.2815 16.1592 18.0001 15.8778L14.1211 11.9998Z' fill='%231A1A1A'/%3E%3C/svg%3E%0A");
                    }
                }

                a {
                    display: flex;
                    justify-content: space-between;
                    gap: 12px;
                    padding: 8px 16px;
                    background: #FFFFFF;
                    width: 100%;
                    height: 100%;
                    align-items: center;
                    text-transform: none;
                    border: 1px solid $color__border;
                    border-radius: 8px;
                    font-style: normal;
                    font-weight: 600;
                    font-size: 15px;
                    line-height: 140%;
                    color: #000;

                    @include media-down-md {
                        padding: 8px 12px 8px 8px;
                    }

                    img {
                        width: 60px;
                        height: 60px;
                        max-width: 60px;
                        object-fit: contain;

                        @include media-down-md {
                            width: 28px;
                            height: 28px;
                            min-width: 28px;
                        }
                    }

                    .item-title {
                        display: flex;
                        flex-wrap: nowrap;
                        align-items: center;
                        width: 100%;

                        span {
                            margin-right: 10px;
                            max-width: 140px;
                            word-wrap: break-word;
                        }

                        svg {
                            min-width: 6px;
                            margin-left: auto;

                            path {
                                transition: 0.2s ease;
                            }
                        }
                    }

                    &:hover {
                        color: $accent;
                        border-color: $accent;

                        svg {
                            path {
                                fill: $accent;
                            }
                        }
                    }
                }
            }
        }




        // &:hover>a,
        // &.focus>a {}
    }

    li.menu-item-has-children:hover>.sub-menu {
        opacity: 1;
        pointer-events: all;
    }


    a {
        display: block;
        text-decoration: none;
        font-weight: 600;
        font-size: 14px;
        line-height: 160%;
        letter-spacing: 0.05em;
        text-transform: uppercase;
        color: $color__black;
    }

    .current_page_item>a,
    .current-menu-item>a,
    .current_page_ancestor>a,
    .current-menu-ancestor>a {}
}

/* Small menu. */
.menu-toggle,
.main-navigation.toggled ul {
    display: block;
}

@media screen and (min-width: 37.5em) {

    .menu-toggle {
        display: none;
    }

    .main-navigation ul {
        display: flex;
    }
}

.comment-navigation,
.posts-navigation,
.post-navigation {

    .site-main & {
        margin: 0 0 1.5em;
    }

    .nav-links {
        display: flex;
    }

    .nav-previous {
        flex: 1 0 50%;
    }

    .nav-next {
        text-align: end;
        flex: 1 0 50%;
    }
}